<!doctype html>
<html dir="rtl">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, user-scalable=no">

<link rel="shortcut icon" href="http://www.alayham.com/favicon.ico" type="image/vnd.microsoft.icon">
<meta name="generator" content="Eclipse Luna, Supported by EGHNA (http://www.eghna.com)">
<meta name="rights" content="جميع الحقوق محفوظة لأصحابها الأصليين. الجميع مدعو للمشاركة مع حقظ حقوق الملكية الفكرية لأصحابها الأصليين">
<link rel="image_src" href="http://syrians.alayham.com/images/flag.jpg">
<link rel="publisher" href="http://www.eghna.com">
<link rel="author" href="http://www.alayham.com">

<meta property="fb:admins" content="532377104">
<meta property="fb:app_id" content="306540782743883">
<meta property="og:site_name" content="دليل المغتربين السوريين">
<meta property="og:type" content="website">
<meta property="og:url" content="http://www.alayham.com/">
<meta property="og:image" content="http://syrians.alayham.com/images/flag.jpg">

<link rel="canonical" href="http://syrians.alayham.com/contact.html" />
<link rel="shortlink" href="http://syrians.alayham.com/contact.html" />
<meta property="og:title" content="الاتصال مع مطور التطبيق" />
<meta property="og:description" content="الاتصال مع مطور التطبيق">
<meta name="description" content="الاتصال مع مطور التطبيق">
<title>الاتصال مع مطور دليل المغتربين السوريين</title>

<script src="phonegap.js"></script>
<script src="parse-1.3.0.min.js"></script>
<script type="text/javascript" charset="utf-8">
function onLoad() { document.addEventListener("deviceready", onDeviceReady, false);}
</script>

<link rel="stylesheet" href="jquery-mobile/themes/jquery.mobile.icons.min.css" />
<link rel="stylesheet" href="jquery-mobile/jquery.mobile.structure-1.4.4.min.css" />
<script src="jquery-mobile/jquery-2.1.0.min.js" type="text/javascript"></script>
<script src="jquery-mobile/jquery.mobile-1.4.4.min.js" type="text/javascript"></script>
<script src="syrians.js" type="text/javascript"></script>
<link rel="stylesheet" type="text/css" href="styles.css" />

</head>
<body onload="onLoad();">
<div data-role="page" data-dom-cache="true" id="home">
  	<div data-role="header" data-position="fixed">
      <script type="text/javascript">var btnhome= new backhome(); document.write(btnhome.render());</script>
    	<h2 title="دليل المغتربين السوريين" class="">الاتصال مع مطور التطبيق</h2>
  	</div>
  	<div data-role="content">
      <h3>الاتصال مع مطور التطبيق</h3>
        <label for="contactname">الاسم</label>
        <input type="text" id="contactname" placeholder="الرجاء ادخال اسمك" name="contactname" />
        <label for="contactemail">البريد الالكتروني</label>
        <input type="email" id="contactemail" placeholder="الرجاء إدخال بريدك الالكتروني" name="contactemail" />
        <label for="contacttext">نص الرسالة</label>        
        <textarea id="contacttext" placeholder="الرجاء كتابة الرسالة هنا" name="contacttext" rows="10"></textarea>
        <button id="sendmessage">إرسال الرسالة</button>
      <div id="messageresult"></div>
		</div> 
 	  
 </div>
 <script type="text/javascript">

function checkEmail(emailAddress) {
	  var sQtext = '[^\\x0d\\x22\\x5c\\x80-\\xff]';
	  var sDtext = '[^\\x0d\\x5b-\\x5d\\x80-\\xff]';
	  var sAtom = '[^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+';
	  var sQuotedPair = '\\x5c[\\x00-\\x7f]';
	  var sDomainLiteral = '\\x5b(' + sDtext + '|' + sQuotedPair + ')*\\x5d';
	  var sQuotedString = '\\x22(' + sQtext + '|' + sQuotedPair + ')*\\x22';
	  var sDomain_ref = sAtom;
	  var sSubDomain = '(' + sDomain_ref + '|' + sDomainLiteral + ')';
	  var sWord = '(' + sAtom + '|' + sQuotedString + ')';
	  var sDomain = sSubDomain + '(\\x2e' + sSubDomain + ')*';
	  var sLocalPart = sWord + '(\\x2e' + sWord + ')*';
	  var sAddrSpec = sLocalPart + '\\x40' + sDomain; // complete RFC822 email address spec
	  var sValidEmail = '^' + sAddrSpec + '$'; // as whole string

	  var reValidEmail = new RegExp(sValidEmail);

	  if (reValidEmail.test(emailAddress)) {
	    return true;
	  }

	  return false;
	}

function validate(){
	var valid=true;
  $("#messageresult").html(" ");
  if(!checkEmail($("#contactemail").val())){
    $("#messageresult").append("<p>عنوان البريد الالكتروني غير صحيح</p>");
    valid=false;    
  }
  if($("#contactname").val().length<=5){
	  $("#messageresult").append("<p>الاسم المدخل قصير جدا، الرجاء إدخال الاسم الكامل</p>");
	  valid=false;    
	}
  if($("#contacttext").val().length<=5){
	    $("#messageresult").append("<p>نص الرسالة المدخل قصير جدا، الرجاء إدخال أكثر من 10 أحرف</p>");
	    valid=false;    
	  }
	return(valid);
}
$(document).ready(function(){
  $("#sendmessage").on("click",function(e){
    e.preventDefault();
	  if(validate()){
		  InitParse();
		  MessageObject = Parse.Object.extend("Contact_message");
		  var message = new MessageObject;
			 message.save({
				 Name: $("#contactname").val(),
			   Email: $("#contactemail").val(),
	       Message_Text: $("#contacttext").val(),
			 },{
				 success: function(){
					 logmessage("Sent a contact message")
					 $("#messageresult").html("تم إرسال الرسالة بنجاح. شكرا لك");
					 $("#contacttext").val("");
				 },
				 error: function(){
			     logmessage("Failed to send a contact message")
			     $("#messageresult").html("فشل إرسال الرسالة. الرجاء التحقق من الاتصال بالإنترنت والمحاولة مرة أخرى");
				 }
			 });
	  }else{
	      $("#messageresult").append("<p>لم يتم إرسال الرسالة</p>");		  
	  }
  })
});

 </script>
</body>
</html>
